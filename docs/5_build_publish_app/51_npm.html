<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.78.0" />
    <meta name="description" content="JFrog Workshop with Google Cloud">
<meta name="author" content="JFrog">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Build and Publish the NPM Package :: JFrog DevOps Modernization Workshop</title>

    
    <link href="/css/nucleus.css?1604790650" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1604790650" rel="stylesheet">
    <link href="/css/hybrid.css?1604790650" rel="stylesheet">
    <link href="/css/featherlight.min.css?1604790650" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1604790650" rel="stylesheet">
    <link href="/css/auto-complete.css?1604790650" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1604790650" rel="stylesheet">
    <link href="/css/theme.css?1604790650" rel="stylesheet">
    <link href="/css/hugo-theme.css?1604790650" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1604790650" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1604790650"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/5_build_publish_app/51_npm.html">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/" title="Go home"><img src="/images/gcp/Google-Cloud-Logo.png" /></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1604790650"></script>
<script type="text/javascript" src="/js/auto-complete.js?1604790650"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1604790650"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1_prerequisites.html" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/1_prerequisites.html">
          <b>1 </b>Prerequisites
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/1_prerequisites/21_google_cloud_account.html" title="Google Cloud Account" class="dd-item ">
        <a href="/1_prerequisites/21_google_cloud_account.html">
        <b>11 </b>Google Cloud Account
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/1_prerequisites/22_jfrog_free_tier.html" title="JFrog Free Tier (No CC Required)" class="dd-item ">
        <a href="/1_prerequisites/22_jfrog_free_tier.html">
        <b>11 </b>JFrog Free Tier (No CC Required)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2_devops_cloud.html" title="DevOps in the Cloud" class="dd-item 
        
        
        
        ">
      <a href="/2_devops_cloud.html">
          <b>2 </b>DevOps in the Cloud
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/21_continuous_integration_and_delivery.html" title="Continuous Integration and Delivery" class="dd-item ">
        <a href="/2_devops_cloud/21_continuous_integration_and_delivery.html">
        <b>2.1 </b>Continuous Integration and Delivery
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/22_binary_repository_management.html" title="Binary Repository Management" class="dd-item ">
        <a href="/2_devops_cloud/22_binary_repository_management.html">
        <b>2.2 </b>Binary Repository Management
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/23_dev_sec_ops.html" title="DevSecOps" class="dd-item ">
        <a href="/2_devops_cloud/23_dev_sec_ops.html">
        <b>2.3 </b>DevSecOps
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/24_jfrog_platform_overview.html" title="JFrog Platform for DevOps in the Cloud" class="dd-item ">
        <a href="/2_devops_cloud/24_jfrog_platform_overview.html">
        <b>2.4 </b>JFrog Platform for DevOps in the Cloud
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3_workshop.html" title="Workshop Overview" class="dd-item 
        
        
        
        ">
      <a href="/3_workshop.html">
          <b>3 </b>Workshop Overview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4_workshop_setup.html" title="Setup Workshop" class="dd-item 
        
        
        
        ">
      <a href="/4_workshop_setup.html">
          <b>4 </b>Setup Workshop
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/4_workshop_setup/41_start_cloud_shell.html" title="Start Cloud Shell" class="dd-item 
        
        
        
        ">
      <a href="/4_workshop_setup/41_start_cloud_shell.html">
          <b>4.1 </b>Start Cloud Shell
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/4_workshop_setup/42_start_gke_cluster.html" title="Start GKE Cluster" class="dd-item 
        
        
        
        ">
      <a href="/4_workshop_setup/42_start_gke_cluster.html">
          <b>4.2 </b>Start GKE Cluster
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5_build_publish_app.html" title="Build and Publish the App" class="dd-item 
        parent
        
        
        ">
      <a href="/5_build_publish_app.html">
          <b>5 </b>Build and Publish the App
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/5_build_publish_app/51_npm.html" title="Build and Publish the NPM Package" class="dd-item 
        parent
        active
        
        ">
      <a href="/5_build_publish_app/51_npm.html">
          <b>5.1 </b>Build and Publish the NPM Package
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/5_build_publish_app/52_docker.html" title="Build and Push the Docker Image" class="dd-item 
        
        
        
        ">
      <a href="/5_build_publish_app/52_docker.html">
          <b>5.2 </b>Build and Push the Docker Image
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6_view_results.html" title="View Results in JFrog" class="dd-item 
        
        
        
        ">
      <a href="/6_view_results.html">
          <b>6 </b>View Results in JFrog
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7_deploy_gke.html" title="Deploy on GKE" class="dd-item 
        
        
        
        ">
      <a href="/7_deploy_gke.html">
          <b>7 </b>Deploy on GKE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/7_deploy_gke/71_configure_ecs_secrets.html" title="Configure AWS Secrets Manager for ECS" class="dd-item ">
        <a href="/7_deploy_gke/71_configure_ecs_secrets.html">
        <b>7.1 </b>Configure AWS Secrets Manager for ECS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/7_deploy_gke/72_configure_ecs_role.html" title="Configure an IAM Role for ECS" class="dd-item ">
        <a href="/7_deploy_gke/72_configure_ecs_role.html">
        <b>7.2 </b>Configure an IAM Role for ECS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/7_deploy_gke/73_deploy_your_image.html" title="Deploy Your Image with ECS" class="dd-item ">
        <a href="/7_deploy_gke/73_deploy_your_image.html">
        <b>7.3 </b>Deploy Your Image with ECS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/7_deploy_gke/74_view_your_application.html" title="View Your Application" class="dd-item ">
        <a href="/7_deploy_gke/74_view_your_application.html">
        <b>7.4 </b>View Your Application
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/8_conclusion.html" title="Conclusion" class="dd-item 
        
        
        
        ">
      <a href="/8_conclusion.html">
          <b>8 </b>Conclusion
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="/cleanup.html"><i class='fas fa-trash-alt'></i> Cleanup</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/jfrogtraining/clouddays/"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="/resources.html"><i class='fab fa-readme'></i> Resources</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <h5 class="copyright">&copy; 2020 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5>
</left>


    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>JFrog DevOps Google Cloud Workshop</a> > <a href='/5_build_publish_app.html'>Build and Publish the App</a> > Build and Publish the NPM Package
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Build and Publish the NPM Package
            </h1>
          

        



	<p>In this section, we will focus on the NPM package of our application by validating NPM dependencies and publishing the resulting NPM package.</p>
<p><img src="/images/jfrog-cli-npm.svg" alt="JFrog CLI NPM"></p>

<div class="notices info" ><p>As we are building our NPM package and Docker image, the JFrog CLI is collecting build info along the way. Build info is referenced by the build name and build number. Build info is all the information collected during the build which includes details about the build itself. The build info includes the list of project modules, artifacts, dependencies, environment variables and more. When using one of the JFrog CLI to build the code, it can collect the build-info and publish it to Artifactory. When the build info is published to Artifactory, all the published details become visible in the Artifactory UI.</p>
</div>

<ol>
<li>In the Cloud9 terminal, change directory to <em>aws-modernization-with-jfrog/workshop_app</em>. This directory contains the code for our NPM application.</li>
<li>Configure the NPM repositories with the JFrog CLI. Substitute the <em>Artifactory server ID</em> that you entered previously. This sets the <em>npm-demo</em> as the NPM repository for deploying and resolving packages.</li>
</ol>
<p><code>jfrog rt npmc --repo-resolve npm-demo --repo-deploy npm-demo --server-id-resolve &lt;Artifactory server ID&gt; --server-id-deploy &lt;Artifactory server ID&gt;</code></p>
<ol start="3">
<li>Perform an NPM install with the JFrog CLI command to verify NPM dependencies. <em>&ndash;build-name</em> specifies the name for this build. <em>&ndash;build-number</em> specifies the run. Each time this code is built, reference the same build name, but increment the build number. Build info is referenced to these values.</li>
</ol>
<p><code>jfrog rt npm-install --build-name=npm_build --build-number=1</code></p>
<p>This command should result in successful install.
<img src="/images/npm-install.png" alt="NPM Install"></p>
<ol start="4">
<li>Perform an NPM publish to package and deploy to the <em>npm-demo</em> repository. You set this repository in <em>Step 2</em>.</li>
</ol>
<p><code>jfrog rt npm-publish --build-name=npm_build --build-number=1</code></p>
<p>This command should result in successful publishing.
<img src="/images/npm-publish.png" alt="NPM Publish"></p>
<ol start="5">
<li>Now let&rsquo;s publish our build info. This contains all the properties including dependencies, versions, artifacts and environment variables associated with the <em>npm_build</em>. The following will publish the accumulated build info.</li>
</ol>
<p><code>jfrog rt build-publish npm_build 1</code></p>
<ol start="6">
<li>
<p>In your JFrog Platform instance, go to <strong>Artifactory</strong> ► <strong>Builds</strong>.</p>
</li>
<li>
<p>Click on <strong>npm_build</strong>. This is our current build.
<img src="/images/artifactory-builds.png" alt="Artifactory Builds"></p>
</li>
<li>
<p>Click on <strong>1</strong>. This is our current build run. This reveals all of our current build info including published artifacts and dependencies. This was collected through our previous JFrog CLI commands.</p>
</li>
</ol>
<p><img src="/images/npm-build-info.png" alt="Build Info"></p>
<ol start="9">
<li>Select the <strong>Build Info JSON</strong> tab. This provides a JSON view of all of our build info.</li>
</ol>
<p><img src="/images/npm-build-info-json.png" alt="Build Info"></p>
<ol start="10">
<li>
<p>Go to <strong>Administration</strong> ► <strong>Xray Security &amp; Compliance</strong> ► <strong>Indexed Resources</strong>.
<img src="/images/indexed-resources.png" alt="Indexed Resources"></p>
</li>
<li>
<p>Select the <strong>Build</strong> tab.</p>
</li>
<li>
<p>Click <strong>Manage Builds</strong>.</p>
</li>
<li>
<p>Move the <em>npm_build</em> to the included builds. This will allow Xray to scan this build.</p>
</li>
</ol>
<p><img src="/images/indexed-builds.png" alt="Indexed Builds"></p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/5_build_publish_app.html" title="Build and Publish the App"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/5_build_publish_app/52_docker.html" title="Build and Push the Docker Image" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1604790650"></script>
    <script src="/js/perfect-scrollbar.min.js?1604790650"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1604790650"></script>
    <script src="/js/jquery.sticky.js?1604790650"></script>
    <script src="/js/featherlight.min.js?1604790650"></script>
    <script src="/js/highlight.pack.js?1604790650"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1604790650"></script>
    <script src="/js/learn.js?1604790650"></script>
    <script src="/js/hugo-learn.js?1604790650"></script>
    
        
            <script src="/mermaid/mermaid.js?1604790650"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
