<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.78.0" />
    <meta name="description" content="JFrog Workshop with Google Cloud">
<meta name="author" content="JFrog">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Deploy Application on GKE :: JFrog DevOps Modernization Workshop</title>

    
    <link href="/css/nucleus.css?1604900097" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1604900097" rel="stylesheet">
    <link href="/css/hybrid.css?1604900097" rel="stylesheet">
    <link href="/css/featherlight.min.css?1604900097" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1604900097" rel="stylesheet">
    <link href="/css/auto-complete.css?1604900097" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1604900097" rel="stylesheet">
    <link href="/css/theme.css?1604900097" rel="stylesheet">
    <link href="/css/hugo-theme.css?1604900097" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1604900097" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1604900097"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/6_deploy_gke.html">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/" title="Go home"><img src="/images/gcp/Google-Cloud-Logo.png" /></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1604900097"></script>
<script type="text/javascript" src="/js/auto-complete.js?1604900097"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1604900097"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1_prerequisites.html" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/1_prerequisites.html">
          <b>1 </b>Prerequisites
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/1_prerequisites/11_google_cloud_account.html" title="Google Cloud Account" class="dd-item ">
        <a href="/1_prerequisites/11_google_cloud_account.html">
        <b>11 </b>Google Cloud Account
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/1_prerequisites/12_jfrog_free_tier.html" title="JFrog Free Tier (No CC Required)" class="dd-item ">
        <a href="/1_prerequisites/12_jfrog_free_tier.html">
        <b>12 </b>JFrog Free Tier (No CC Required)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2_devops_cloud.html" title="DevOps in the Cloud" class="dd-item 
        
        
        
        ">
      <a href="/2_devops_cloud.html">
          <b>2 </b>DevOps in the Cloud
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/21_continuous_integration_and_delivery.html" title="Continuous Integration and Delivery" class="dd-item ">
        <a href="/2_devops_cloud/21_continuous_integration_and_delivery.html">
        <b>2.1 </b>Continuous Integration and Delivery
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/22_binary_repository_management.html" title="Binary Repository Management" class="dd-item ">
        <a href="/2_devops_cloud/22_binary_repository_management.html">
        <b>2.2 </b>Binary Repository Management
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/23_dev_sec_ops.html" title="DevSecOps" class="dd-item ">
        <a href="/2_devops_cloud/23_dev_sec_ops.html">
        <b>2.3 </b>DevSecOps
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_devops_cloud/24_jfrog_platform_overview.html" title="JFrog Platform for DevOps in the Cloud" class="dd-item ">
        <a href="/2_devops_cloud/24_jfrog_platform_overview.html">
        <b>2.4 </b>JFrog Platform for DevOps in the Cloud
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3_workshop.html" title="Workshop Overview" class="dd-item 
        
        
        
        ">
      <a href="/3_workshop.html">
          <b>3 </b>Workshop Overview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4_workshop_setup.html" title="Setup Workshop" class="dd-item 
        
        
        
        ">
      <a href="/4_workshop_setup.html">
          <b>4 </b>Setup Workshop
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/41_get_artifactory_api_key.html" title="Get Artifactory API Key" class="dd-item ">
        <a href="/4_workshop_setup/41_get_artifactory_api_key.html">
        <b>4.1 </b>Get Artifactory API Key
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/42_create_docker_repo.html" title="Create Docker Repository" class="dd-item ">
        <a href="/4_workshop_setup/42_create_docker_repo.html">
        <b>4.2 </b>Create Docker Repository
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/43_start_gcp_cloud_shell.html" title="Start GCP Cloud Shell" class="dd-item ">
        <a href="/4_workshop_setup/43_start_gcp_cloud_shell.html">
        <b>4.3 </b>Start GCP Cloud Shell
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/44_clone_git_repo.html" title="Clone Git Repository" class="dd-item ">
        <a href="/4_workshop_setup/44_clone_git_repo.html">
        <b>4.4 </b>Clone Git Repository
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/45_declare_variables.html" title="Declare environment variables" class="dd-item ">
        <a href="/4_workshop_setup/45_declare_variables.html">
        <b>4.5 </b>Declare environment variables
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_workshop_setup/46_start_gke_cluster.html" title="Start GKE Cluster" class="dd-item ">
        <a href="/4_workshop_setup/46_start_gke_cluster.html">
        <b>4.6 </b>Start GKE Cluster
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5_build_publish_app.html" title="Build and Publish the App" class="dd-item 
        
        
        
        ">
      <a href="/5_build_publish_app.html">
          <b>5 </b>Build and Publish the App
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/5_build_publish_app/51_build_and_push_jfrog_cli_docker_image-copy.html" title="Build and Push JFrog CLI Docker Image" class="dd-item ">
        <a href="/5_build_publish_app/51_build_and_push_jfrog_cli_docker_image-copy.html">
        <b>5.1 </b>Build and Push JFrog CLI Docker Image
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_build_publish_app/52_build_and_push_npm_docker_image-copy.html" title="Build and Push JFrog CLI Docker Image" class="dd-item ">
        <a href="/5_build_publish_app/52_build_and_push_npm_docker_image-copy.html">
        <b>5.2 </b>Build and Push JFrog CLI Docker Image
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_build_publish_app/55_scan_with_xray.html" title="Scan With Xray" class="dd-item ">
        <a href="/5_build_publish_app/55_scan_with_xray.html">
        <b>5.3 </b>Scan With Xray
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6_deploy_gke.html" title="Deploy Application on GKE" class="dd-item 
        parent
        active
        
        ">
      <a href="/6_deploy_gke.html">
          <b>6.0 </b>Deploy Application on GKE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7_conclusion.html" title="Conclusion" class="dd-item 
        
        
        
        ">
      <a href="/7_conclusion.html">
          <b>7.0 </b>Conclusion
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="/cleanup.html"><i class='fas fa-trash-alt'></i> Cleanup</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/jfrogtraining/clouddays/"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="/resources.html"><i class='fab fa-readme'></i> Resources</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <h5 class="copyright">&copy; 2020 JFrog, Inc. or its Affiliates. All rights reserved.<h5>
</left>


    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>JFrog DevOps Google Cloud Workshop</a> > Deploy Application on GKE
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Deploy Application on GKE
            </h1>
          

        



	<p>We are now ready to deploy your image with GKE. If not yet created, GKE can create a new VPC as well as the other components that are required to serve your application. GKE will then authenticate, pull the image from Artifactory and deploy the container to the GKE.</p>
<p>1 . Remember the kubernetes cluster we created in the beginning of the lab? It must be ready by now. Let&rsquo;s first verify that our cluster is healthy and kubectl is working using following command on cloud shell</p>
<p><code>kubectl get pods -A</code></p>
<p>2 . Now let&rsquo;s deploy our new application</p>
<p><code>kubectl create deployment devopsdays-deployment --image=${_ARTIFACTORY_SERVER_NAME}/clouddays/npm-app:${TAG}</code></p>
<p>3 . You can watch the pods being started using following command</p>
<p><code>kubectl get pods -w</code></p>
<p>4 . Once the pods are in running state, lets create a service so we can access the application. This command will create a service and a load balancer to access the application.</p>
<p><code>kubectl expose deployment devopsdays-deployment --type=LoadBalancer --port=1337</code></p>
<p>5 . Again, we can watch the service and load balancer being created using following command.</p>
<p><code>kubectl get svc -w</code></p>
<p>Once the <code>EXTERNAL-IP</code> field shows an IP address, our service is ready to be tested.</p>
<ol start="6">
<li>Now open a browser and go to following URL (replace <code>LOAD_BALANCER_IP</code> with your own ip address from previous step)</li>
</ol>
<p><code>http://&lt;LOAD_BALANCER_IP&gt;:1337</code></p>
<p><img src="/images/gcp/application_on_browser.png" alt="JFrog CLI build success"></p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/5_build_publish_app/55_scan_with_xray.html" title="Scan With Xray"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/7_conclusion.html" title="Conclusion" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1604900097"></script>
    <script src="/js/perfect-scrollbar.min.js?1604900097"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1604900097"></script>
    <script src="/js/jquery.sticky.js?1604900097"></script>
    <script src="/js/featherlight.min.js?1604900097"></script>
    <script src="/js/highlight.pack.js?1604900097"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1604900097"></script>
    <script src="/js/learn.js?1604900097"></script>
    <script src="/js/hugo-learn.js?1604900097"></script>
    
        
            <script src="/mermaid/mermaid.js?1604900097"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
